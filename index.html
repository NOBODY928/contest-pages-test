<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>竞赛资讯聚合面板</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 p-6">
    <div class="max-w-7xl mx-auto">
        <div class="border-b pb-4 mb-8">
            <h1 class="text-2xl font-bold text-slate-800">竞赛资讯聚合</h1>
            <p id="time" class="text-sm text-slate-400 mt-1">加载中...</p>
        </div>

        <div id="container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>

    <script>
        async function render() {
            const res = await fetch('./data.json?v=' + Date.now());
            const data = await res.json();
            document.getElementById('time').innerText = "生成时间：" + data.generated_at;
            
            const container = document.getElementById('container');
            container.innerHTML = data.items.map(item => `
                <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-5 hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start mb-3">
                        <h2 class="text-lg font-bold text-slate-800">${item.title}</h2>
                        <span class="px-2 py-1 rounded-full text-[10px] text-white bg-${item.status.color}-500">
                            ${item.status.text}
                        </span>
                    </div>
                    <div class="space-y-2">
                        ${item.info_grid.map(info => `
                            <div class="flex justify-between text-sm">
                                <span class="text-slate-400">${info.label}</span>
                                <span class="text-slate-700 font-medium">${info.value}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="mt-4 pt-4 border-t border-slate-50 flex justify-between items-center text-[11px]">
                        <span class="text-slate-300">更新于 ${item.last_updated || '刚刚'}</span>
                        <a href="${item.link_homepage || '#'}" class="text-blue-500 font-bold tracking-tight">查看官网 &rarr;</a>
                    </div>
                </div>
            `).join('');
        }
        render();
    </script>
</body>
</html>
